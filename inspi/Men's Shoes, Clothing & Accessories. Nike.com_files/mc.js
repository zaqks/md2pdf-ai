"use strict";(()=>{var At=Object.create;var pe=Object.defineProperty;var jt=Object.getOwnPropertyDescriptor;var Ht=Object.getOwnPropertyNames;var Gt=Object.getPrototypeOf,Bt=Object.prototype.hasOwnProperty;var Vt=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Kt=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Ht(t))!Bt.call(e,n)&&n!==r&&pe(e,n,{get:()=>t[n],enumerable:!(o=jt(t,n))||o.enumerable});return e};var fe=(e,t,r)=>(r=e!=null?At(Gt(e)):{},Kt(t||!e||!e.__esModule?pe(r,"default",{value:e,enumerable:!0}):r,e));var re=Vt((Pe,ke)=>{(function(e){var t;if(typeof define=="function"&&define.amd&&(define(e),t=!0),typeof Pe=="object"&&(ke.exports=e(),t=!0),!t){var r=window.Cookies,o=window.Cookies=e();o.noConflict=function(){return window.Cookies=r,o}}})(function(){function e(){for(var o=0,n={};o<arguments.length;o++){var i=arguments[o];for(var a in i)n[a]=i[a]}return n}function t(o){return o.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function r(o){function n(){}function i(c,s,l){if(!(typeof document>"u")){l=e({path:"/"},n.defaults,l),typeof l.expires=="number"&&(l.expires=new Date(new Date*1+l.expires*864e5)),l.expires=l.expires?l.expires.toUTCString():"";try{var v=JSON.stringify(s);/^[\{\[]/.test(v)&&(s=v)}catch{}s=o.write?o.write(s,c):encodeURIComponent(String(s)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),c=encodeURIComponent(String(c)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var I="";for(var R in l)l[R]&&(I+="; "+R,l[R]!==!0&&(I+="="+l[R].split(";")[0]));return document.cookie=c+"="+s+I}}function a(c,s){if(!(typeof document>"u")){for(var l={},v=document.cookie?document.cookie.split("; "):[],I=0;I<v.length;I++){var R=v[I].split("="),y=R.slice(1).join("=");!s&&y.charAt(0)==='"'&&(y=y.slice(1,-1));try{var X=t(R[0]);if(y=(o.read||o)(y,X)||t(y),s)try{y=JSON.parse(y)}catch{}if(l[X]=y,c===X)break}catch{}}return c?l[c]:l}}return n.set=i,n.get=function(c){return a(c,!1)},n.getJSON=function(c){return a(c,!0)},n.remove=function(c,s){i(c,"",e(s,{expires:-1}))},n.defaults={},n.withConverter=r,n}return r(function(){})})});var H="3.96.0";var Z=()=>typeof localStorage!==void 0?localStorage.getItem("marketing_client_debug")==="true":!1,zt=()=>new Date().toUTCString(),G=(e,t,r)=>{if(Z()){let o=console[e];console.groupCollapsed(`MC:${H} ${zt()} ${t}`),r.forEach(n=>o(n)),console.groupEnd()}},d=(e,...t)=>{G("info",e,t)};function w(e){G("error","\u{1F6A8} mc.js internal error",[e])}var ge=e=>{let{application:{view:t}}=e,r=window.location.pathname?.split("/")?.pop()||"";return typeof localStorage!==void 0&&t==="evo order confirmation"?localStorage.getItem("evo-order-event")===r:!1};var ve=(e,t)=>{let{event:r}=e;sessionStorage.setItem("double-firing-event",`${r}|${t}`)};var $t=(e,t,r)=>{let o=t.split("|"),n=r-parseInt(o[1],10);return o[0]===e&&n<50},ye=e=>{let{event:t}=e,r=Date.now();return typeof sessionStorage!==void 0&&$t(t,sessionStorage.getItem("double-firing-event")||"",r)?(sessionStorage.removeItem("double-firing-event"),!0):(ve(e,r),!1)};var B=()=>window.location.hostname.includes("gs-checkout")?"Y":"N";var we=(e,t)=>B()==="Y"?"mc":t==="onCheckoutViewed"||t==="onOrderCompleted"?e.source?"mc":"dcm":e?.source||"";var he=e=>{let t=e.application?.country?.toLowerCase()??"",r=e.application?.device??"",o=e.application?.language??"",n=window?.navigator?.userAgent??"",i=e.application?.view??"";return{country:t,device:r,language:o,userAgent:n,view:i}};function m(e){if(!e)throw new Error("Invalid arguments passed into getCookie");let t=decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null;return t&&t==="null"?null:t}var V=e=>!!m("ni_c")?.toUpperCase().replace(/\s*/g,"").split("|").includes(`${e.toUpperCase()}=1`);var K=()=>window?.NikePrivacy?.permissions?.get()||[];var F=(e,t=K())=>!!t?.find(({category:r})=>r.toLowerCase()===e.toLowerCase())?.isEnabled;var z=()=>[F("adtargeting_hashedmatch"),V("1PA")].some(e=>e);var U={COOKIE_NAME:"geoloc",COUNTRY_KEY:"cc"},Q={queryParam:"geolocCountry",ccAlias:"country"};function C(e){"@babel/helpers - typeof";return C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(e)}function Ce(e,t){if(C(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t||"default");if(C(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ee(e){var t=Ce(e,"string");return C(t)=="symbol"?t:t+""}function ee(e,t,r){return(t=Ee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var O=".nike.com",te=".nikecloud.com",Wt=".converse.com";var be="https://www",ho="https://store".concat(O),Co="https://secure-store".concat(O),Eo="https://api".concat(O),qt="".concat(be).concat(O),bo="".concat(be).concat(Wt),Po="https://uxtesting.prod.commerce".concat(te),ko="https://experience.prod.commerce".concat(te),xo="https://experience.test.commerce".concat(te),Io="".concat(qt,"/assets");function xe(e){if(Array.isArray(e))return e}function Ie(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o,n,i,a,c=[],s=!0,l=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;s=!1}else for(;!(s=(o=i.call(r)).done)&&(c.push(o.value),c.length!==t);s=!0);}catch(v){l=!0,n=v}finally{try{if(!s&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw n}}return c}}function oe(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}function Re(e,t){if(e){if(typeof e=="string")return oe(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oe(e,t):void 0}}function _e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Se(e,t){return xe(e)||Ie(e,t)||Re(e,t)||_e()}function Oe(e){return e.split(",").reduce(function(t,r){var o=r.split("="),n=Se(o,2),i=n[0],a=n[1];return t[i]=a,t},{})}var Te=fe(re());var Jt=U.COOKIE_NAME,Me=function(){return Te.default.get(Jt)};var Ne=U.COOKIE_NAME,Yt=U.COUNTRY_KEY,Xo=Q.queryParam,Xt=Q.ccAlias,De="geoloc cookie not set";function Ue(e){var t=Oe(e);return Object.defineProperty(t,Xt,{configurable:!0,get:function(){return this[Yt]}}),t}function Zt(e){return e&&C(e.cookies)!=="object"?console.warn("No cookies object found to parse"):e.cookies[Ne]?Ue(e.cookies[Ne]):console.warn(De)}function L(e){if(e)return Zt(e);var t=Me();return t?Ue(t):(console.warn(De),t)}var ne=fe(re()),Le=function(){return{get:function(r){return ne.default.get(r)},set:function(r,o,n){ne.default.set(r,o,n)}}},Ae={createInstance:function(t){return{get:function(o){return Le().get(o)},set:function(o,n){Le().set(o,n,t)}}}};function je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,o)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?je(Object(r),!0).forEach(function(o){ee(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):je(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}var He=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=Ae.createInstance(Qt({domain:t.domain||O,expires:new Date(new Date().getTime()+864e5)},t));return{get:function(n){return r.get(n)},set:function(n,i){r.set(n,i)}}},Ge=function(t,r,o){return He(o).set(t,r)},ie=function(t,r){return He(r).get(t)};var E=function(e,t){return function(){var o,n;if((o=window)!==null&&o!==void 0&&(n=o.webShellClient)!==null&&n!==void 0&&n.privacy&&window.webShellClient.privacy[e]){var i;return(i=window.webShellClient.privacy)[e].apply(i,arguments)}return t.apply(void 0,arguments)}};var ae="sq",T={UNSET:{allowPerformance:null,allowMarketing:null},0:{allowPerformance:!1,allowMarketing:!1},1:{allowPerformance:!0,allowMarketing:!1},2:{allowPerformance:!1,allowMarketing:!0},3:{allowPerformance:!0,allowMarketing:!0}},er={AT:"Austria",BE:"Belgium",BG:"Bulgaria",HR:"Croatia",CY:"Cyprus",CZ:"Czech Republic",DK:"Denmark",EE:"Estonia",FI:"Finland",FR:"France",DE:"Germany",GR:"Greece",HU:"Hungary",IE:"Ireland, Republic of (EIRE)",IT:"Italy",LV:"Latvia",LT:"Lithuania",LU:"Luxembourg",MT:"Malta",NL:"Netherlands",NO:"Norway",PL:"Poland",PT:"Portugal",RO:"Romania",SK:"Slovakia",SI:"Slovenia",ES:"Spain",SE:"Sweden",CH:"Switzerland",GB:"United Kingdom"},Be=E("isCookieRequiredCountry",function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return!!er[e.toUpperCase()]}),ce=[],b=E("getPreferences",function(e,t){var r=ie(ae,t),o=L()||{},n=o.cc||e,i=!!n;if(!r)return!i||Be(n)?T.UNSET:T[3];if(T[r])return T[r];throw new Error("unknown value for privacy cookie: ".concat(r))}),tr=E("addInitialPreferenceListener",function(e){ce.push(e)}),rr=E("getInitialPreferenceListeners",function(){return ce}),or=E("isMarketingAllowed",function(e,t){return b(e,t).allowMarketing}),nr=E("isPerformanceAllowed",function(e,t){return b(e,t).allowPerformance}),Ve=E("isPreferenceSet",function(e){return typeof ie(ae,e)<"u"}),ir=E("setPreferences",function(e,t){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0,n=!Ve(r),i=0;i<=3;i+=1)if(T[i].allowPerformance===e&&T[i].allowMarketing===t){Ge(ae,i,r);break}return n&&ce.forEach(function(a){return a()}),b(o,r)});var ar=()=>b()?.allowMarketing,u=()=>window.NikePrivacy?.isEnabled?F("adtargeting_behavioralevents"):ar()===!0?!0:V("BEAD");var f=(e=K())=>{let t=e.find(({category:r})=>r==="performance");return t?t.isEnabled:b().allowPerformance};var cr=async e=>{let t=new window.Blob([e],{type:"utf-8"}),r=await new Response(t).arrayBuffer();return new Uint8Array(r)},sr=e=>Array.from(new Uint8Array(e)).map(r=>r.toString(16).padStart(2,"0")).join(""),P=async e=>{if(!e)return"";let t=await cr(e),r=await window.crypto.subtle.digest("SHA-256",t);return sr(r)};var _=e=>{if(!e)return"";let t=new URL(e);return t.search="",t.toString()};var lr="714737",dr="2lrxTiTBk6-5ot3iFiVRFwzX40tQTtw7",ur="f6e2d580c7",mr=`https://insights-collector.newrelic.com/v1/accounts/${lr}/events`;function $(e){let{newrelic:t=null}=window;d("\u23E3 NewRelic Egress Data \u23E3",e),t&&t.loader_config&&t.loader_config.licenseKey===ur&&t.addPageAction("AdtechMarketingEvent",e),fetch(mr,{method:"POST",headers:{"Content-Type":"application/json","X-Insert-Key":dr},body:JSON.stringify({eventType:"AdtechMarketingClientEvent",...e})})}function h(e,t={event:"marketingClientErrorEvent",windowHREF:_(window.location.href)}){let{newrelic:r=null}=window;r&&r.noticeError&&r.noticeError(e,t);let o={...t,errorMessage:e?.message,errorStack:e?.stack};Z()&&(console.error("Error",e),console.error("Error NR event",o)),$(o)}var Ke=()=>window?.NikePrivacy?.isEnabled?"nike-privacy-core":"ux-tread-privacy";function S(e,t){let r={event:"marketingClientEvent",memberEvent:e,referer:_(document.referrer),signInFlow:t,windowHREF:_(window.location.href)};$(r)}function Fe(e){let{application:{country:t,view:r},filter:o,consumer:{allowsPerformance:n},scriptSource:i,event:a,eventId:c}=e,s={event:"marketingClientEvent",eventName:a,country:t,eventId:c,isEVO:B(),privacyType:Ke(),scriptSource:i,filter:o,windowHREF:_(window.location.href),referer:_(document.referrer),version:H,view:r};n&&$(s)}var W=async()=>{try{let e=await window?.webShellClient?.identity?.getUserProfile()||{};return e?.signInFlow==="JOIN"&&(localStorage.setItem("adtech_member_joined","true"),f()&&S("webshell-sign-in-flow",e.signInFlow),localStorage.getItem("adtech_member_joined_count")||(f()&&S("member-sign-in-flow",e.signInFlow),localStorage.setItem("adtech_member_joined_count","1"))),{email:e.email||"",mobileNumber:e.mobileNumber||"",signInFlow:e.signInFlow||"",registeredCountry:e.registeredCountry||"",userType:e.userType||""}}catch(e){return w(e),e instanceof Error&&f()&&h(e),{email:"",mobileNumber:"",registeredCountry:"",signInFlow:"",userType:""}}};var pr=async e=>({hashedEmail:await P(e.email.toLowerCase().trim())||"",loggedIn:"Y",memberEmail:e.email,memberLocation:e.registeredCountry,mobileNumber:e.mobileNumber,memberType:e.userType}),ze=async()=>{let e={hashedEmail:"",loggedIn:"N",memberEmail:"",memberLocation:"",mobileNumber:"",memberType:""},t=await W();return t.email?await pr(t):e};function se(e){return e.replace(/[^\d]/g,"")}var $e=async e=>{let t=await ze(),r=e.consumer?.customerEmail??"",o=await P(r),n=e.consumer?.customerPhoneNumber?se(e.consumer?.customerPhoneNumber):"",i=t?.mobileNumber?se(t.mobileNumber):"",a=await P(n),c=await P(i);return{allows1PA:z(),allowsBehavioral:u(),allowsPerformance:f(),email:t.memberEmail||r,hashedEmail:t.hashedEmail||o,hashedPhoneNumber:c||a,loggedIn:t.loggedIn,memberLocation:t.memberLocation,memberType:t.memberType.toUpperCase()}};var q,fr=new Uint8Array(16);function le(){if(!q&&(q=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!q))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return q(fr)}var p=[];for(let e=0;e<256;++e)p.push((e+256).toString(16).slice(1));function We(e,t=0){return p[e[t+0]]+p[e[t+1]]+p[e[t+2]]+p[e[t+3]]+"-"+p[e[t+4]]+p[e[t+5]]+"-"+p[e[t+6]]+p[e[t+7]]+"-"+p[e[t+8]]+p[e[t+9]]+"-"+p[e[t+10]]+p[e[t+11]]+p[e[t+12]]+p[e[t+13]]+p[e[t+14]]+p[e[t+15]]}var gr=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),de={randomUUID:gr};function vr(e,t,r){if(de.randomUUID&&!t&&!e)return de.randomUUID();e=e||{};let o=e.random||(e.rng||le)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,t){r=r||0;for(let n=0;n<16;++n)t[r+n]=o[n];return t}return We(o)}var A=vr;var J=e=>{let t=e?.event||e?.eventName,r=e?.application?.view||"",o=["gridwall","launch-feed","launch-in-stock","launch-upcoming"],n=["pdp","launch-pdp"],i=["cart"],a=["launch-checkout"];switch(t){case"cartViewed":return"onCartViewed";case"onLoad":if(o.includes(r))return"onProductListViewed";if(n.includes(r))return"onProductViewed";if(i.includes(r))return"onCartViewed";if(a.includes(r))return"onCheckoutViewed";break;case"landingPageViewed":return"onLandingPageViewed";case"colorChange":return"onColorChange";case"sizeSelect":return"onSizeSelect";case"addToCart":return"onProductAdded";case"productAdded":return"onProductAdded";case"memberJoined":return"onMemberJoined";case"registrationPageViewed":return"onRegistrationViewed";default:break}switch(r){case"cart":return"onCartViewed";case"checkout":return"onCheckoutViewed";case"checkout type":return"onCheckoutViewed";case"order confirmation":return"onOrderCompleted";case"evo order confirmation":return"onOrderCompleted";case"order review":return"onCheckoutViewed";case"payment":return"onCheckoutViewed";case"shipping":return"onCheckoutViewed";case"evo checkout":return"onCheckoutViewed";case"homepage":return"onLandingPageViewed";case"landing page":return"onLandingPageViewed";case"editorial":return"onLandingPageViewed";case"memberJoined":return"onMemberJoined";default:break}return""};var qe=e=>{let t=J(e);return{eventId:A(),event:t}};var Je=e=>({filter:e.filters?.sortBy??""});function Ye(e){return e?Array.isArray(e)&&e.length&&e[0]!==void 0?e:Array.isArray(e)?[]:Object.values(e).map(t=>t.code):[]}function Xe(e){return e?{ae:"AED",at:"EUR",au:"AUD",be:"EUR",bg:"BGN",ca:"CAD",ch:"CHF",cl:"CLP",cn:"CNY",cz:"EUR",de:"EUR",dk:"DKK",eg:"EGP",es:"EUR",fi:"EUR",fr:"EUR",gb:"GBP",gr:"EUR",hk:"CNY",hr:"EUR",hu:"EUR",id:"IDR",ie:"EUR",il:"ILS",in:"INR",it:"EUR",kr:"KRW",jp:"JPY",lu:"EUR",ma:"MAD",mx:"MXN",my:"MYR",nl:"EUR",no:"NOK",nz:"NZD",ph:"PHP",pl:"PLN",pr:"USD",pt:"EUR",ro:"RON",ru:"RUB",sa:"SAR",se:"SEK",sg:"SGD",si:"EUR",sk:"EUR",th:"THB",tr:"TRY",tw:"TWD",us:"USD",vn:"VND",za:"ZAR"}[e.toLowerCase()]:""}var Ze=async(e,t)=>{let r=Xe(t),o=e.order?.discount??0,n=e.order?.orderId??"",i=await P(n),a=Ye(e.order?.promoCodeList),c=e.order?.shipping??0,s=e.order?.subtotal??0,l=e.order?.tax??0,v=e.order?.total??0;return{currencyCode:r,discount:o,hashedOrderId:i,orderId:n,promoCodeList:a,shipping:c,subtotal:s,tax:l,total:v}};var Qe=(e,t)=>{let r=window.location.origin==="https://www.nike.com.cn"?"https://product-proxy.adtech-prod.nikecloud.com.cn/products":"https://product-proxy-v2.adtech-prod.nikecloud.com/products";return!e.length||t===void 0?Promise.resolve([]):fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({experienceProducts:e,country:t})}).then(o=>{if(!o.ok){let n=o.headers.get("Content-Type");return n&&n.includes("application/json")?o.json().then(i=>{let a=i.error?new Error(i.error):new Error("fetch response not ok");return Promise.reject(a)}):Promise.reject(new Error("fetch response not ok"))}return o.json()}).then(o=>(d("\u{1F45F} Product Data",o),o.hydratedProducts??[])).catch(o=>{w(o);let n=new Error(`Cloud Product Data Error: ${o instanceof Error?o.message:String(o)}`);return h(n,{event:"marketingClientErrorEvent",windowHREF:window.location.href,experienceProducts:e,country:t}),[]})};var et=(e,t)=>t.currentPrice*e.quantity;var tt=(e=[],t=[])=>Array.from(new Set([...Array.isArray(e)?e:[],...Array.isArray(t)?t:[]]));var rt=(e,t)=>{let r=t?.skuData??[],o={size:e?.size??"",sku:e?.sku??"",gtin:e?.gtin??""},n={size:r.length?r[0].size:"",sku:r.length?r[0].sku:"",gtin:r.length?r[0].gtin:""};return r.length?r.find(({size:i})=>i===o.size)??n:o};var ot=(e,t)=>t.length&&!e.length?t:!t.length&&!e.length?[]:t.map(o=>{let n=e.find(({cloudProductId:i})=>i===o.cloudProductId);if(n){let i={...o,...n,genders:tt(o.genders,n.genders),...rt(o,n),currentPrice:o.currentPrice===0?n.currentPrice:o.currentPrice,id:o.id?o.id:n.prodigyId,fullPrice:o.fullPrice===0?n.fullPrice:o.fullPrice,currentPriceTotal:o.currentPriceTotal===0?et(o,n):o.currentPriceTotal},{skuData:a,...c}=i;return c}return o});var yr="EU",wr="XP",hr="XA",Cr="AU";function Er(e){switch(e){case"OOS":return"Fouts";case"LOW":return"Miller";case"MEDIUM":return"Dixon";case"HIGH":return"Mariota";default:return""}}function br(e){let t=e.objects.map(o=>o.level),r={};return t.forEach(o=>{r[o]=(r[o]||0)+1}),r}function Pr(e){let t=["GB","AT","FR","IT","DE","ES","BE","CZ","DK","FI","GR","HU","IE","LU","NL","PL","PT","SE","SI"],r=["AE","BG","CA","CH","CL","EG","HR","IL","MA","NO","ZA","NZ","PR","RO","RU","SA","SK","TR"],o=["ID","IN","MY","PH","SG","TH","TW","VN"];return t.indexOf(e)>-1?yr:r.indexOf(e)>-1?wr:o.indexOf(e)>-1?hr:e==="AU"?Cr:e.toUpperCase()}function kr(e){let t=0,r="";for(let o in e)if(e[o]>t){if(o==="OOS"&&Object.keys(e).length>1)return"LOW";t=e[o],r=o}else e[o]===t&&(r==="HIGH"&&o==="MEDIUM"?r="MEDIUM":r==="HIGH"&&o==="LOW"?r="LOW":r==="MEDIUM"&&o==="HIGH"?r="MEDIUM":(r==="MEDIUM"&&o==="LOW"||r==="LOW"&&o==="MEDIUM"||r==="LOW"&&o==="HIGH")&&(r="LOW"));return r}function xr(e){let t=br(e),r=kr(t);return Er(r)}function Ir(e,t){let r=Pr(t.toUpperCase()),o=window.location.origin==="https://www.nike.com.cn"?"api.nike.com.cn":"api.nike.com",n=encodeURI(`https://${o}/deliver/available_gtins/v3?filter=styleColor(${e})&filter=merchGroup(${r})`);return fetch(n,{credentials:"include"}).then(i=>i.json()).then(i=>xr(i))}function nt(e,t=[]){let r=e?.application?.country||"",o=t.filter(i=>i.cloudProductId!==null),n=J(e);if(o.length>0){let i=o.map(async a=>{if(a?.color&&r&&(n==="onProductViewed"||n==="onCartViewed"))try{let c=await Ir(a.color,r);return{...a,inventoryLevel:c}}catch(c){return w(c),{...a,inventoryLevel:""}}return{...a,inventoryLevel:""}});return Promise.all(i)}return Promise.resolve([])}var it=e=>e?.length?e.map(t=>({brand:t?.brand||"",category:t?.category||"",cloudProductId:t?.cloudProductId||"",color:t?.color||"",currentPrice:t?.currentPrice||0,currentPriceTotal:t?.currentPriceTotal||0,fullPrice:t?.fullPrice||0,genders:t?.genders||[],id:t?.id||"",inventoryLevel:t?.inventoryLevel||"",isNikeByYou:t?.isNikeByYou||!1,isOnSale:t?.isOnSale||!1,name:t?.name||"",discounts:t?.discounts||[],quantity:t?.quantity||1,size:t?.size||"",sku:t?.sku||"",gtin:t?.gtin||"",subCategory:t?.subCategory||[]})):[];var at=async(e,t)=>{let r=it(e.productList),o=r.filter(a=>!a.category.includes("GIFT_CARD")).filter(a=>a?.cloudProductId?.includes("-")).map(a=>({cloudProductId:a.cloudProductId,currentPrice:a.currentPrice}))??[],[n,i]=await Promise.all([nt(e,r),Qe(o,t)]);return ot(i,n)};var ct=e=>{let t=0,r=0,o=0,n=0;for(let i of e){t+=i.currentPrice*i.quantity,r+=i.quantity;let a=i.discounts?.reduce((c,s)=>c+s.discountAmount,0)||0;o+=a}return n=t-o,{currentPrice:t,quantity:r,discount:o,discountedPrice:n}};var st=async e=>{let t=he(e),[r,o,n]=await Promise.all([$e(e),Ze(e,t.country),at(e,t.country)]),i=ct(n),{filter:a}=Je(e),{event:c,eventId:s}=qe(e),l=we(e,c);return{application:t,consumer:r,filter:a,event:c,eventId:s,order:o,productList:n,scriptSource:l,productTotals:i}};var lt=(e,t,r)=>({currencyCode:r.order.currencyCode,impressions:e,items:t}),Rr=(e,t)=>({detail:{products:e},items:t}),_r=(e,t,r)=>({currencyCode:r.order.currencyCode,add:{products:e},items:t}),Sr=(e,t)=>({checkout:{products:e},items:t}),Or=(e,t,r)=>({currencyCode:r.order.currencyCode,purchase:{actionField:{id:r.order.orderId,coupon:Array.isArray(r.order.promoCodeList)&&r.order.promoCodeList.length?r.order.promoCodeList.join("|"):"",revenue:r.order.total,shipping:r.order.shipping,tax:r.order.tax},products:e},items:t});function dt(e){let t=e.productList.map(n=>({brand:n.brand,category:n.category,id:n.id,list:e.filter,name:n.name,price:n.currentPriceTotal,quantity:n.quantity,variant:n.color})),r=e.productList.map(n=>({item_name:n.name,item_id:n.id,price:n.currentPriceTotal,item_brand:n.brand,item_category:n.category,item_variant:n.color,item_list_name:e.filter,quantity:n.quantity}));return{onProductListViewed:lt,onProductListFiltered:lt,onProductViewed:Rr,onProductAdded:_r,onCheckoutViewed:Sr,onOrderCompleted:Or}[e.event]?.(t,r,e)??{}}var ut=e=>{let{application:t,consumer:r,event:o,eventId:n,filter:i,order:a,productList:c,productTotals:s}=e,l=dt({productList:c,filter:i,event:o,order:a});return{application:t,consumer:r,ecommerce:l,event:o,eventId:n,filter:i,order:a,productList:c,productTotals:s,productListAggregateData:s}};var mt=e=>{let t=ut(e);window.marketingClientDataLayer=window.marketingClientDataLayer||[],window.marketingClientDataLayer.push(t),d("\u{1F3F7} GTM Egress Data",t)};function M(){let e=L(),t="";if(e&&typeof e.cc=="string"&&e.cc.length>0)t=e.cc;else{let r=location.pathname.slice(1).split("/");r[0].length===2&&(t=r[0])}return t.toLowerCase()}var Tr=["ae","at","au","be","bg","ca","ch","cl","cz","de","dk","eg","es","fi","fr","gb","gr","hr","hu","id","ie","il","in","it","jp","lu","ma","mx","my","nl","no","nz","ph","pl","pr","pt","ro","ru","sa","se","sg","si","sk","th","tr","tw","us","vn","za"],pt=()=>{let e=M();return e==="us"||Tr.includes(e)&&u()};var ft=(e,t)=>{let r={...t,eventData:{...t.eventData,request:{client:"fetch"}}};return fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r),keepalive:!0})},Mr=(e,t)=>{let r={...t,eventData:{...t.eventData,request:{client:"beacon"}}};return navigator.sendBeacon(e,JSON.stringify(r))},Nr=(e,t)=>{if(!navigator.sendBeacon)return ft(e,t);let r=Mr(e,t);return r||ft(e,t)},gt=e=>{try{let t="https://consumersignals.services.nike.com/consumersignals/kennedy/v1/stream",r={type:"page",anonymousID:e.anonymousId,eventData:e};d("\u{1F300} NMP-Utils Egress Data",e),Nr(t,r)}catch(t){w(t),t instanceof Error&&h(t)}};var vt=e=>{let{application:{view:t}}=e,r=window.location.pathname?.split("/")?.pop()||"";typeof localStorage!==void 0&&t==="evo order confirmation"&&localStorage.setItem("evo-order-event",r)};var j=()=>M()==="us"||u();var yt=e=>({allows1PA:e?.consumer?.allows1PA||!1,allowsBehavioral:e?.consumer?.allowsBehavioral||!1,allowsPerformance:e?.consumer?.allowsPerformance||!1,currencyType:e?.order?.currencyCode||"",hashedEmail:e?.consumer?.hashedEmail||"",hashedPhoneNumber:e?.consumer?.hashedPhoneNumber||"",loggedIn:e?.consumer?.loggedIn||""});var wt=()=>window.location.href;var g=()=>new Date;var ht=(e,t)=>Math.floor(Math.random()*(t-e))+e;var N=e=>new URLSearchParams(window.location.search).get(e)||"";var k=(e,t)=>{let r=new Date(e.getTime());return r.setMonth(e.getMonth()+t),r.toUTCString()};function x(e,t,r){document.cookie=`${encodeURIComponent(e)}=${encodeURIComponent(t)}; expires=${r}; domain=.nike.com; path=/; Secure`,d(`\u{1F36A} ${e} cookie set to ${t}`)}var D=(...e)=>{e.forEach(t=>{let r=new Date;r.setTime(r.getTime()-1),document.cookie=`${encodeURIComponent(t)}=; expires=${r.toUTCString()}; domain=.nike.com; path=/;`,d(`\u{1F36A} ${t} cookie invalidated`)})};var Dr=e=>{let t=`fb.1.${g().getTime()}.${e}`;return u()&&x("_fbc",t,k(g(),3)),t},Ur=()=>{let e=`fb.1.${g().getTime()}.${ht(1e7,1e12)}`;return u()&&x("_fbp",e,k(g(),3)),e},Ct=()=>{let e=N("fbclid"),t=m("_fbp"),r=m("_fbc"),o=e&&(!r||r?.split(".")[r.split(".").length-1]!==e)?Dr(e):r||"",n=t??Ur();return{fbcId:o,fbpId:n}},Et=()=>{D("_fbp","_fbc")};var Lr=e=>(u()&&x("_rdt_cid",e,k(g(),3)),e),Ar=()=>{let e=`${g().getTime()}.${A()}`;return u()&&x("_rdt_uuid",e,k(g(),3)),e},bt=()=>{let e=N("rdt_cid"),t=m("_rdt_cid"),r=m("_rdt_uuid"),n=e&&(!t||t!==e)?Lr(e):t||"",i=r??Ar();return{cid:n,uuid:i}},Pt=()=>{D("_rdt_uuid","_rdt_cid")};var jr=e=>(u()&&x("_cnxclid",e,k(g(),3)),e),kt=()=>{let e=N("cnxclid"),t=m("_cnxclid");return{cnxclid:e&&(!t||t!==e)?jr(e):t||""}},xt=()=>{D("_cnxclid")};var It=e=>{let t=yt(e),r=wt(),o=m("anonymousId"),n=m("_scid"),i=m("_ttp"),a=m("ttclid");return{...e,connexity:kt(),consumer:t,anonymousId:o,facebook:Ct(),tiktok:{ttp:i,ttclid:a},reddit:bt(),scId:n,url:r}};var Rt=()=>{Et(),xt(),Pt()};var Hr=()=>{u()||(d("\u{1F4A7} Invalidating Cookies"),Rt())},_t=async e=>{try{Hr();let t=await st(e);if(d("\u{1F4A7} Hydrated Marketing Client Data",t),j()&&mt(t),pt()){let r=It(t);gt(r)}vt(t),f()&&Fe(t)}catch(t){w(t),t instanceof Error&&h(t)}};var ue=e=>{if(!e){d("\u{1F969} Raw Marketing Client Event Empty",e);return}if(ye(e)){d("\u{1F969} Raw Marketing Client Event Double Firing",e);return}if(ge(e)){d("\u{1F969} Raw Marketing Client Event Stored Evo Order Event",e);return}if(e["@nike/mc.metadata"]?.dispatchedAt){d("\u{1F969} Raw Marketing Client Event Already dispatched",e);return}e["@nike/mc.metadata"]={dispatchedAt:new Date().toISOString()},d("\u{1F969} Raw Marketing Client Event Data",e),_t({...e,"@nike/mc.metadata":void 0})};var St=e=>t=>r=>(d(`\u{1F35D} ${e}`,r),t(r)),Ot=()=>(window.NikeConsumerSignals||(window.NikeConsumerSignals=[]),window.NikeConsumerSignals),Y=e=>{Ot().push(e)},Tt=()=>{let e=window,t=Ot();t.forEach(St("Clearing queued events")(ue)),t.push=function(...r){let{length:o}=this;return Array.prototype.push.apply(this,r),this.slice(o).forEach(St("Dispatching incoming event")(ue)),this.length},e.marketing=Y,dispatchEvent(new Event("@mc/marketing_available"))};function Gr(){let e="marketingClientGTM";if(document.getElementById(e))return;let t=`(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','marketingClientDataLayer','GTM-NTF2X45');`,r=document.createElement("script");r.setAttribute("id",e);let o=document.createTextNode(t);r.appendChild(o),document.getElementsByTagName("head")[0].appendChild(r)}function Mt(){try{Gr()}catch(e){let t=new Error(`GTM Initialization Error: ${e instanceof Error?e.message:String(e)}`);h(t)}}function Nt(){let e=m("NIKE_COMMERCE_LANG_LOCALE"),t="";return e&&(t=e.toLowerCase()),t}var Br=e=>{window?.NikeConsumerSignals?Y(e):window?.marketing&&window.marketing(e)},Dt=()=>{let e=localStorage.getItem("dcm_member_joined_success"),t=localStorage.getItem("adtech_member_joined"),r=localStorage.getItem("adtech_member_joined_count"),o={application:{view:"memberJoined",country:M(),language:Nt()},eventName:"memberJoined"},n={detail:o};e==="true"&&(f()&&S("legacy-neo"),localStorage.removeItem("dcm_member_joined_success"),document.documentElement.dispatchEvent(new CustomEvent("neo",n))),t==="true"&&r==="1"&&(window?.marketing||window?.NikeConsumerSignals)&&(f()&&S("webshell-window.marketing"),localStorage.setItem("adtech_member_joined_count","0"),Br(o)),t==="true"&&r==="1"&&!window?.marketing&&(f()&&S("webshell-neo"),localStorage.setItem("adtech_member_joined_count","0"),document.documentElement.dispatchEvent(new CustomEvent("neo",n))),localStorage.removeItem("adtech_member_joined")};var Ut=async(e=window)=>{if(!e.NikePrivacy?.isEnabled)return!1;try{return await e.NikePrivacy.isInitialized()}catch(t){return G("warn","Nike Privacy was not initialized",[t]),!1}};var me=e=>{window.marketingClientDataLayer=window.marketingClientDataLayer||[];function t(n,i,a){window.marketingClientDataLayer&&window.marketingClientDataLayer.push(arguments)}let r=e==="default",o;if(r)o={ad_storage:"denied",ad_user_data:"denied",ad_personalization:"denied",analytics_storage:"denied",nike_bead:"denied",nike_1pa:"denied",nike_performance:"denied"};else{let n=u(),i=z(),a=f();o={ad_storage:n?"granted":"denied",ad_user_data:n?"granted":"denied",ad_personalization:n?"granted":"denied",analytics_storage:n?"granted":"denied",nike_bead:n?"granted":"denied",nike_1pa:i?"granted":"denied",nike_performance:a?"granted":"denied"}}t("consent",e,o)};(async()=>(me("default"),await Ut(),j()&&(me("update"),Mt()),Tt(),W().then(e=>{e?.signInFlow==="JOIN"&&j()&&Dt()})))();})();
/*! Bundled license information:

js-cookie/src/js.cookie.js:
  (*!
   * JavaScript Cookie v2.2.1
   * https://github.com/js-cookie/js-cookie
   *
   * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
   * Released under the MIT license
   *)
*/
